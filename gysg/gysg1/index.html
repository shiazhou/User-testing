<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
<title>å…‰é‡24å°æ—¶æµ‹èº«é«˜</title>
<style>
:root{
  --glass-bg: rgba(255,255,255,0.08);
  --glass-border: rgba(255,255,255,0.1);
  --text: #ffffff;
  --muted: rgba(255,255,255,0.72);
  --radius: 16px;
  --card-w: min(700px,96%);
}

html,body{
  height:100%; margin:0; padding:0;
  font-family:'Poppins','Microsoft YaHei',sans-serif;
  color:var(--text);
  overflow:hidden;
  display:flex; justify-content:center; align-items:center;
  position:relative;
}

/* èƒŒæ™¯ */
body::before{
  content:"";
  position:fixed; inset:0; z-index:-2;
  background-image:url("https://bing.img.run/1366x768.php");
  background-size:cover; background-position:center;
  filter: saturate(1.05) contrast(1.03) brightness(0.56);
  transform: scale(1.02);
}
body::after{
  content:""; position:fixed; inset:0; z-index:-1;
  backdrop-filter: blur(7px) saturate(115%);
  background: linear-gradient(180deg, rgba(2,8,15,0.18), rgba(0,0,0,0.3));
}

/* ä¸»å¡ç‰‡ */
.container{
  width:var(--card-w); max-width:100%;
  padding:30px 30px 40px 30px; /* åº•éƒ¨åŠ å¤§paddingé˜²æ­¢footeré®æŒ¡ */
  border-radius:var(--radius);
  background:var(--glass-bg);
  border:1px solid var(--glass-border);
  backdrop-filter: blur(15px);
  text-align:center;
  box-shadow:0 10px 50px rgba(2,6,15,0.6);
}

h1{
  font-size: clamp(22px,4vw,30px);
  margin-bottom:12px;
}

.input-area{ display:flex; flex-wrap:wrap; gap:10px; justify-content:center; }

input{
  flex:1; min-width:220px; max-width:350px;
  padding:12px 18px; border-radius:25px; border:none;
  font-size:16px; outline:none; color:#111;
  background: rgba(255,255,255,0.85);
}
input:focus{ box-shadow: 0 0 15px #00eaff; }

button{
  padding:12px 25px; border-radius:25px; border:none;
  background: linear-gradient(90deg, #00eaff, #0072ff);
  color:#fff; font-size:16px; font-weight:bold; cursor:pointer;
  transition:0.2s ease;
}
button:hover{ transform: translateY(-2px); box-shadow:0 0 25px #00eaff; }

#status{ margin-top:15px; font-size:15px; font-weight:bold; }

/* ç»“æœåŒº */
#result{
  margin-top:20px; text-align:left;
  background: rgba(255,255,255,0.1);
  border-radius:12px; padding:15px;
  white-space: pre-wrap;
  line-height:1.6;
  opacity:0; transform: translateY(15px);
  transition: all 0.6s ease;
  font-size:14px;
  max-height:200px;
  overflow-y:auto;
  position:relative;

  scrollbar-width: thin;
  scrollbar-color: #00eaff rgba(255,255,255,0.1);
}
#result::-webkit-scrollbar{ width:6px; }
#result::-webkit-scrollbar-thumb{ background:#00eaff; border-radius:4px; }
#result::-webkit-scrollbar-track{ background: rgba(255,255,255,0.1); }

#result::before,#result::after{
  content:"";
  position:sticky;
  left:0; right:0;
  height:20px;
  pointer-events:none;
  z-index:2;
}
#result::before{ top:0; background:linear-gradient(to bottom, rgba(0,0,0,0.3), transparent); }
#result::after{ bottom:0; background:linear-gradient(to top, rgba(0,0,0,0.3), transparent); }

#result.show{ opacity:1; transform:translateY(0); }

/* å¤åˆ¶æŒ‰é’® */
.copy-btn{
  display:none;
  margin-top:10px;
  padding:10px 20px;
  border-radius:20px;
  background:linear-gradient(90deg,#00ffcc,#0099ff);
  color:#fff;
  font-weight:bold;
  font-size:14px;
  border:none;
  cursor:pointer;
  transition:0.25s ease;
}
.copy-btn:hover{
  box-shadow:0 0 20px #00eaff;
  transform:translateY(-2px);
}
.copy-btn.show{ display:inline-block; animation:fadeIn 0.4s ease; }

@keyframes fadeIn{
  from{opacity:0; transform:translateY(15px);}
  to{opacity:1; transform:translateY(0);}
}

/* ç§»åŠ¨ç«¯ä¼˜åŒ– */
@media(max-width:500px){
  .container{ width:95%; padding:20px 20px 30px 20px; }
  input, button{ width:100%; }
}

footer{
  margin-top:20px; font-size:12px; color:var(--muted); text-align:center;
}
</style>
</head>
<body>
<div class="container">
  <h1>å…‰é‡24å°æ—¶åœ¨çº¿æµ‹èº«é«˜</h1>
  <p>ä¸€ç ä¸€æµ‹<br>æµ‹å®Œè¯·åˆ é™¤å¥½å‹<br>ä½¿ç”¨é‡å¡‘åå¯ç«‹å³æŸ¥è¯¢</p>

  <div class="input-area">
    <input id="q" type="text" placeholder="è¯·è¾“å…¥å¥½å‹ç ..." />
    <button id="go">ç«‹å³æŸ¥è¯¢</button>
  </div>

  <div id="status"></div>
  <div id="result"></div>
  <button id="copyBtn" class="copy-btn">ğŸ“‹ å¤åˆ¶ç»“æœ</button>

  <footer>
    <div>
      <a href="https://qm.qq.com/q/xl45eNIpEW" target="_blank" style="color:var(--muted);">è”ç³»ç®¡ç†å‘˜QQ</a>
    </div>
    Powered by æ£ ç²¥è™šæ‹Ÿ<br>
    æµ‹è¯•ä¸­ è¯·å‹¿æ»¥ç”¨ ç¦æ­¢ç”¨äºå•†ä¸šç”¨é€”
  </footer>
</div>

<script>
const btn = document.getElementById('go');
const qEl = document.getElementById('q');
const statusEl = document.getElementById('status');
const resultEl = document.getElementById('result');
const copyBtn = document.getElementById('copyBtn');

const errorMessages = [
  "æ‚¨çš„å…‰é‡å¥½å‹ç ä¸æ­£ç¡®ï¼Œè¯·æ£€æŸ¥å¥½å‹ç æ˜¯å¦æ­£ç¡®ï¼",
  "è¯¥å¥½å‹ç å·²ä½¿ç”¨,è¯·æ›´æ¢æ–°çš„å¥½å‹ç å†è¿›è¡ŒæŸ¥è¯¢ï¼"
];

btn.addEventListener('click', async () => {
  const q = qEl.value.trim();
  if(!q){ alert('è¯·è¾“å…¥å¥½å‹ç '); return; }

  btn.disabled = true;
  statusEl.textContent = 'ğŸš€ æ­£åœ¨è¯·æ±‚ä¸­...';
  statusEl.style.color = '#00eaff';
  resultEl.textContent = '';
  resultEl.classList.remove('show');
  copyBtn.classList.remove('show');

  try{
    const resp = await fetch('api.php',{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body: JSON.stringify({query:q})
    });
    const text = await resp.text();
    const isError = errorMessages.some(msg=>text.includes(msg));

    if(isError){
      statusEl.textContent='âŒ è¯·æ±‚å¤±è´¥';
      statusEl.style.color='#ff5b5b';
      copyBtn.classList.remove('show');
    } else {
      statusEl.textContent='âœ… è¯·æ±‚æˆåŠŸ';
      statusEl.style.color='#00ff9d';
      copyBtn.classList.add('show');
    }

    resultEl.textContent = text;
    resultEl.scrollTo({top:0, behavior:'smooth'});
    resultEl.classList.add('show');
  } catch(err){
    statusEl.textContent='âŒ è¯·æ±‚å¼‚å¸¸';
    statusEl.style.color='#ff5b5b';
    resultEl.textContent=String(err);
    resultEl.classList.add('show');
    copyBtn.classList.remove('show');
  } finally{
    btn.disabled=false;
  }
});

// å¤åˆ¶åŠŸèƒ½
copyBtn.addEventListener('click', async () => {
  const text=resultEl.textContent.trim();
  if(!text) return;
  try{
    await navigator.clipboard.writeText(text);
    copyBtn.textContent="âœ… å·²å¤åˆ¶ç»“æœå†…å®¹";
    setTimeout(()=>copyBtn.textContent="ğŸ“‹ å¤åˆ¶ç»“æœ",1500);
  }catch{
    copyBtn.textContent="âŒ å¤åˆ¶å¤±è´¥";
    setTimeout(()=>copyBtn.textContent="ğŸ“‹ å¤åˆ¶ç»“æœ",1500);
  }
});

qEl.addEventListener('keyup', e => { if(e.key==='Enter') btn.click(); });
</script>
</body>
</html>